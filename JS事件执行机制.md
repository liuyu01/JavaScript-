JS并不是多线程，只是提供了事件循环机制来模拟多线程。

单线程 -》同步模式

多线程-》异步模式

异步任务放在任务队列（消息队列）里。

任务队列  宏任务： DOM操作、用户交互（事件）、ajax、定时器

​                  微任务：  promise 、process.nextTick 、MutationObserver

先走微任务（都执行完）再走宏任务。

执行顺序：先是全局之后是微任务再是宏任务。

执行上下文：函数代码在函数执行上下文中执行，全局代码在全局执行上下文中执行。每个函数都有自己的执行上下文。

调用栈（也称为执行堆栈）：调用堆栈顾名思义是一个具有LIFO(后进先出)结构的堆栈，用于存储在代码执行期间创建的所有执行上下文。

JS只有一个调用栈，因为它是一种单线程编程语言。调用堆栈具有LIFO结构，这意味着项目只能从堆栈顶部添加或删除。

事件轮询、web api 和消息队列不是JavaScript引擎的一部分，而是浏览器的JavaScript运行时环境的一部分。

事件轮询

事件轮询的工作是监听调用堆栈，并确定调用堆栈是否为空。如果调用堆栈是空的，它将检查消息队列，看看是否有任何挂起的回调等待执行。

在这种情况下，消息队列包含一个回调，此时调用堆栈为空。因此，事件轮询将回调推到堆栈的顶部。
