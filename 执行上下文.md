##### 执行上下文

Execution Context 执行上下文  简称EC）：当前代码的执行环境 。分为：全局环境 、函数环境、eval环境。

函数环境：当函数被调用时，会进入这个环境

debugger;执行到这行代码时，停止执行

##### 函数环境:

1.创建阶段

​     （1）.创建变量对象

​            1).初始化arguments对象

​             2).查找当前上下文的形参 ——由 形参名称 和 对应值 组成，作为变量对象的属性。如果没有传递对应的参数，将undefined作为对应值。

​             3).查找当前上下文的函数声明function(){}——由 函数名 和 对应值（函数对象）组成，作为变量对象的属性。如果变量对象已经存在同名的属性，则覆盖这个属性

​             4).查找当前上下文的变量声明var——由 变量名 和 对应值（undefined） 组成，作为变量对象的属性。如果变量名与已经声明的形参或函数相同，则变量声明不会干扰已经存在的这类属性。注意：此时的对应值是undefined。

​       （2）.建立作用域链

​        （3）.确定this指向

2.代码执行阶段（变量对象要变成活动对象

​     1）变量赋值

​     2）函数引用

​     3）执行其他代码

##### 全局环境：

1.创建阶段

​	  1）初始化内置对象

​      2）查找函数声明 function(){}

​      3)查找var声明的变量

2.执行阶段

​    1）变量赋值



代码分析：

if(true){

  var a = 1;

  const b = 2;

  let c = 3;

}

//全局作用域，不找 const let 只找var

console.log(a)

console.log(b)// ReferenceError:b is not defined

console.log(c)// ReferenceError:c is not defined



function aa(){

  var a = 1;

  const b = 2;

  let c = 3;

}

//函数作用域，不调用函数时，不执行查找

console.log(a)// ReferenceError:a is not defined

console.log(b)// ReferenceError:b is not defined

console.log(c)// ReferenceError:c is not defined



function aa(){

  var a = 1;

  const b = 2;

  let c = 3;

  console.log(a)// 1

}

aa()

//函数作用域，调用后，执行创建阶段和执行阶段，执行完就销毁，所以外面访问不到，函数内可以访问到

console.log(a)// ReferenceError:a is not defined

console.log(b)// ReferenceError:b is not defined

console.log(c)// ReferenceError:c is not defined
